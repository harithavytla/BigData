CREATE TABLE (Default local/Managed)
------------------------------------------------------------------
CREATE TABLE IF NOT EXISTS employee ( eid int, name String,
salary String, destination String)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY ‘\t’
LINES TERMINATED BY ‘\n’
STORED AS TEXTFILE LOCATION 'hdfs directory location';

describe formatted <table>

PARTITIONS
--------------------------------------------
CREATE external TABLE IF NOT EXISTS employee ( eid int, name String,
salary String) PARTITIONED BY (destination String)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY ‘\t’
LINES TERMINATED BY ‘\n’
STORED AS TEXTFILE LOCATION 'hdfs directory location';


Static partition
-------------------------------------------------------------------------
Load data inpath 'hdfs loc' into table <table> partition(destination='hyd'); 
insert into <table> partition(city='Hyd') select id,name from <staging_table> where city='Hyd'; //Partition is done using partition clause in insert

Dynamic Partition : insert into table <table> partition(city) select * from <staging_table>; //Partition is done using last column of Staging_table of select

create external table txns_ext(txnno INT,txndate STRING,custno INT,amount DOUBLE,category STRING,product STRING,city STRING,state STRING,spendby STRING) LOCATION '/hive/data/txns_ext';




create table txns(txnno INT,txndate VARCHAR(50), custno INT,amount DOUBLE,category VARCHAR(50),product VARCHAR(50),city VARCHAR(50),state VARCHAR(50),spendby VARCHAR(50));

load data local infile '/home/cloudera/hive/data/txns_partition00' into table txns fields terminated by ',';

sqoop import --connect jdbc:mysql://localhost/hive_data --username root --P --table txns --m 1 --target-dir /hive/data/txns












/hone/cloudera/hive/data

US_Txns
UK_Txns
IND_Txns
all




